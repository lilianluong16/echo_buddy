# Song Buddy Alexa Skill

### Install these modules before attempting to run SongBuddy:

 * pickle
 * numpy
 * scipy
 * [librosa](https://github.com/LLCogWorks2017/Week1/issues/6 "librosa installation instructions")
 * [song_buddy](https://github.com/spider-robinson/echo_buddy/tree/master/song_buddy_pkg)
 * MatPlotLib
 * [microphone](https://github.com/LLCogWorks2017/Microphone "Ryan Soklaski's Microphone module")
 * [Flask-ask](https://flask-ask.readthedocs.io/en/latest/ "Flask-ask information and download page")
 * [ngrok](https://ngrok.com/ "ngrok information and download page")
 
 ### Create your database of songs
 
 Create a folder called `audio` in the directory cloned from song_buddy_pkg with the `__init__.py`
 
 Add this line of code at the end of the `__init__.py` file in the song_buddy_pkg:
 
 ```
 train()
 ```

Run `python __init__.py` in the terminal from the directory containing the `__init__.py` file

__Remember to remove `train()` from the file before running the app__

## Setup

Enter the [Alexa Skills Kit](https://developer.amazon.com/edw/home.html#/skills "Amazon's Alexa Skills Kit"), which requires an Amazon developer account.

Paste the following into the Intent Schema section in the Interaction Model:
    
  ```
  {
    "intents": [
      {
        "intent": "YesIntent"
      },
      {
        "intent": "NoIntent"
      }
    ]
  } 
  ```
  
  And paste the following into Sample Utterances section in the Interaction Model:
  ```
  YesIntent yes
  YesIntent yeah
  YesIntent okay
  YesIntent i will
  YesIntent yep
  YesIntent alright
  YesIntent it is
  YesIntent ok
  YesIntent ready
  YesIntent yes please
  NoIntent no
  NoIntent no thanks
  NoIntent nope
  NoIntent dont
  NoIntent stop
  NoIntent not really
  ```
  
  Clone or download this folder. Navigate to the resulting directory.
  
  Run:
  ```
  python song_buddy.py
  ```
  
  This will start a local host at port 5009.
  
  Use [ngrok](https://ngrok.com/ "ngrok information and download page") to create a tunnel to your local host by navigating to the folder into which you downloaded ngrok and running:
  
  ```
  .\ngrok http 5009
  ```
  
  Copy and paste the secure-url generated by ngrok into the Endpoint section in the Configuration tab.

  
## Usage

Say "Echo (or your chosen waitword), song buddy" to trigger the skill. 

Say "Yes" or some variant to let the program know to start recording your song snippet for seven seconds.

Say "No" or some variant to tell the program to stop and exit.
